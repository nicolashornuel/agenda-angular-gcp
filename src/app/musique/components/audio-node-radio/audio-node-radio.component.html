<section class="row-between-center" *ngIf="gainRadio">
  <div class="row gap-2">
    <app-select
      [options]="radioList"
      [(selected)]="radioSelected"
      (selectedChange)="onSelectedChange($event)"
    ></app-select>
    <app-button-group>
      <button appButton outline (click)="onTooglePlay()">
        <app-icon [path]="isPlaying ? 'pause' : 'play'"></app-icon>
      </button>
      <button #popover appButton outline [appPopover]="radioHistory" [disabled]="radioSelected.id != 'FIP'">
        <app-icon path="history"></app-icon>
      </button>
    </app-button-group>
  </div>
</section>

<audio #audio [src]="radioSelected.url" preload="auto" controls autoplay style="display: none" crossorigin="anonymous">
  <source type="audio/mpeg" />
</audio>

<ng-template #radioHistory>
  <app-radio-history (output)="onClosePopover()"></app-radio-history>
</ng-template>
